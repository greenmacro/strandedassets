endogenous value,equation
t,t_1+1
firstPeriodLowcarb,(t==(n+1))
exith,"ifelse(exith_1==1,1,ifelse(yh==0|Fh<0|phe<=0,1,0))"
Vf,Vf_1+(YDf-Cf)-bailout+CG
Vw,Vw_1+(YDw-Cw)
Vfe,Vf_1+YDfe-Cf
Vff,pce*ec+phe*eh+ple*el+MfDf
Vffe,Vfe
Nc,ulc*klc_1/caplabratiolc+uhc*khc_1/caplabratiohc
Nl,"ifelse(t<=(n+entry)&t>(n+1),ifelse((invll+invcl)!=0,ull*kll_1/caplabratioll+uhl*khl_1/caplabratiohl,0),0)+ifelse(t>(n+entry),ifelse((invll+invcl)!=0,ull*kll_1/caplabratioll+uhl*khl_1/caplabratiohl,0),0)"
Nh,"ifelse(exith_1!=1&invhtot>0,uhh*khh_1/caplabratiohh,0)"
Ntot,Nc+Nh+Nl
Aprc,yc/Nc
Aprl,"ifelse(Nl>0,yl/Nl,0.001)"
Aprh,"ifelse(exith_1!=1&Nh>0,yh/Nh,0)"
omegaTc,Omega0+Omega1*log(Aprc)+Omega2*log(Ntot/LF)
omegaTh,"ifelse(exith_1!=1&Nh>0,Omega0+Omega1*log(Aprh)+Omega2*log(Ntot/LF),0)"
omegaTl,Omega0+Omega1*log(Aprl)+Omega2*log(Ntot/LF)
Wc,Wc_1+Omega3*(omegaTc_1-Wc_1/pc_1)
Wh,"ifelse(exith_1==0,Wh_1+Omega3*(omegaTh_1-Wh_1/pc_1),0)"
Wl,"ifelse(t<=(n+1),Wh_1,Wl_1+Omega3*(omegaTl_1-Wl_1/pc_1))"
Fc,Yc-Wc*Nc-intrc*Loansc_1
Fl,"ifelse(t>(n+1),Yl-Wl*Nl-intrl*Loansl_1,0)"
Fh,"ifelse(exith_1!=1&invhtot>0,Yh-Wh*Nh-intrh*Loansh_1,0)"
Fce,Fcmean+Fcmean*Fcgr*eta+nu*(Fc_1-Fce_1)
Fle,Flmean+Flmean*Flgr*eta+nu*(Fl_1-Fle_1)
Fhe,"ifelse(exith_1!=1,Fhmean+Fhmean*Fhgr*eta+nu*(Fh_1-Fhe_1),0)"
Fcgr,"ifelse(Fc_2==0,0,(Fc_1-Fc_2)/Fc_2)"
Flgr,"ifelse(Fl_2==0,0,(Fl_1-Fl_2)/Fl_2)"
Fhgr,"ifelse(Fh_2==0,0,(Fh_1-Fh_2)/Fh_2)"
Fcmean,"mean(c(Fc_4,Fc_3,Fc_2,Fc_1))"
Flmean,"mean(c(Fl_4,Fl_3,Fl_2,Fl_1))"
Fhmean,"mean(c(Fh_4,Fh_3,Fh_2,Fh_1))"
FDl,"ifelse(t>(n+entry),ifelse(Mlleft>0,FDlT+Mlleft/nLoans,ifelse(RElT<0,Mltot-RElT,FDlT*Mltot/(FDlT+RElT))),0)"
FDc,"ifelse(Mcleft>0,FDcT+Mcleft/nLoans,ifelse(REcT<0,Mctot-REcT,FDcT*Mctot/(FDcT+REcT)))"
FDh,"ifelse(exith_1!=1&invhtot>0,ifelse(Mhleft>0,FDhT+Mhleft/nLoans,ifelse(REhT<0,Mhtot-REhT,FDhT*Mhtot/(FDhT+REhT))),0)"
FDb,"max(0,FDbraw)"
FDbe,FDbmean+FDbmean*FDbgr*eta+chi*(FDb_1-FDbe_1)
FDle,FDlmean+FDlmean*FDlgr*eta+chi*(FDl_1-FDle_1)
FDce,FDcmean+FDcmean*FDcgr*eta+chi*(FDc_1-FDce_1)
FDhe,"ifelse(exith_1!=1,FDhmean+FDhmean*FDhgr*eta+chi*(FDh_1-FDhe_1),0)"
FDbgr,"ifelse(FDb_2==0,0,(FDb_1-FDb_2)/FDb_2)"
FDcgr,"ifelse(FDc_2==0,0,(FDc_1-FDc_2)/FDc_2)"
FDlgr,"ifelse(FDl_2==0,0,(FDl_1-FDl_2)/FDl_2)"
FDhgr,"ifelse(FDh_2==0,0,(FDh_1-FDh_2)/FDh_2)"
FDbmean,"mean(c(FDb_4,FDb_3,FDb_2,FDb_1))"
FDcmean,"mean(c(FDc_4,FDc_3,FDc_2,FDc_1))"
FDlmean,"mean(c(FDl_4,FDl_3,FDl_2,FDl_1))"
FDhmean,"mean(c(FDh_4,FDh_3,FDh_2,FDh_1))"
cw1,xiw1*ydwe+xiw2*vw_1
cf0,xif1*ydfe+xif2*vf_1+xif3*cg_1
cf1,(cf0+abs(cf0))/2
cs,"ifelse(LF-Nl-Nh<Ncmax,(LF-Nl-Nh)/Ncmax,1)*(khc_1*prkh+klc_1*prkl)"
exc1,cs-cw1-cf1
exc2,(exc1-abs(exc1))/2
cw,cw1+cw1/(cw1+cf1)*exc2
cf,cf1+cf1/(cw1+cf1)*exc2
Cw,cw*pc
Cf,cf*pc
vf,Vf/pc
vw,Vw/pc
YDw,Wc*Nc+Wh*Nh+Wl*Nl
ydw,YDw/pc-pic*Vw_1/pc
YDwe,YDwmean+YDwmean*YDwgr*eta+epsilon*(YDw_1-YDwe_1)
ydwe,YDwe/pc-(pic*Vw_1)/pc
YDwgr,"ifelse(YDw_2==0,0,(YDw_1-YDw_2)/YDw_2)"
YDwmean,"mean(c(YDw_4,YDw_3,YDw_2,YDw_1))"
YDf,YPc
ydf,YDf/pc-pic*Vf_1/pc
YDfe1,YPce
YDfe,(YDfe1+abs(YDfe1))/2
ydfe,YDfe/pc-(pic*Vf_1)/pc
YPc,FDc+FDh+FDb+FDl
YPce,FDce+FDhe+FDle+FDbe
CG,"ifelse(el_1==0&el>0,ec_1*(pce-pce_1)+eh_1*(phe-phe_1),ec_1*(pce-pce_1)+eh_1*(phe-phe_1)+el_1*(ple-ple_1))"
CGc,ec_1*(pce-pce_1)
CGh,"ifelse(yh!=0,eh_1*(phe-phe_1),0)"
CGl,"ifelse(el_1!=0&ple_1!=0,el_1*(ple-ple_1),0)"
cgc,CGc/(pce_1*ec_1)
cgh,"ifelse(yh!=0&Fh>=0,CGh/(phe_1*eh_1),0)"
cgl,"ifelse(el_1!=0&ple_1!=0,CGl/(ple_1*el_1),0)"
CGce,CGcmean+CGcmean*CGcgr*eta+theta*(CGc_1-CGce_1)
CGhe,"ifelse(exith_1!=1,CGhmean+CGhmean*CGhgr*eta+theta*(CGh_1-CGhe_1),0)"
CGle,CGlmean+CGlmean*CGlgr*eta+theta*(CGl_1-CGle_1)
cgce,CGce/(ec_1*pce_1)
cghe,"ifelse(exith_1!=1,CGhe/(eh_1*phe_1),0)"
cgle,"ifelse(t<(n+1),ifelse(el_1==0|ple_1==0,0,(CGle/(el_1*ple_1))),0)"
CGcgr,"ifelse(CGc_2==0,0,(CGc_1-CGc_2)/CGc_2)"
CGlgr,"ifelse(CGl_2==0,0,(CGl_1-CGl_2)/CGl_2)"
CGhgr,"ifelse(CGh_2==0,0,(CGh_1-CGh_2)/CGh_2)"
CGcmean,"mean(c(CGc_4,CGc_3,CGc_2,CGc_1))"
CGlmean,"mean(c(CGl_4,CGl_3,CGl_2,CGl_1))"
CGhmean,"mean(c(CGh_4,CGh_3,CGh_2,CGh_1))"
Ms,Mw+Mf+Ml+Mcon+Mh
Mw,Vw
Mf,MfDf+Vf-Vff
Mlleft,"max(Ml_1+Mlin-RElT-FDlT,0)"
Ml,"ifelse(Mlleft>0,ifelse(t>(n+entry),Mlleft*(1-1/nLoans),Mlleft),0)"
Loansl,Loansl_1+Invl-REl
Loansc,Loansc_1+Invc-esc*pce-REc
Loansh,"ifelse(yh!=0&Fh>=0,Loansh_1+Invh-esh*phe-REh,0)"
LoansDem,Loansc+Loansh+Loansl
intrc,intrbase*(1+1/(1+exp(kappa*(intrhistc-intrbench))))
intrh,"ifelse(exith_1==0,intrbase*(1+1/(1+exp(kappa*(intrhisth-intrbench)))),0)"
intrl,intrbase*(1+1/(1+exp(kappa*(intrhistl-intrbench))))
rintrc,(1+intrc)/(1+pickhl)-1
rintrl,"ifelse(firstPeriodLowcarb,0,ifelse(pikl==0,0,(1+intrl)/(1+pikl)-1))"
rintrh,"ifelse(exith_1==0,(1+intrh)/(1+pikh_1)-1,0)"
lambdac,Loansc/(khc*pkh+klc*pkl)
lambdal,"ifelse(khl!=0|kll!=0,Loansl/(khl*pkh+kll*pkl),0)"
lambdah,"ifelse(exith_1==0,Loansh/(khh*pkh),0)"
Invc,invch*pkh+invcl*pkl
Invh,"ifelse(exith_1==0,invhh*pkh,0)"
Invl,"ifelse(firstPeriodLowcarb,invlh*pkh,invll*pkl)"
Invexh,"ifelse(exith_1!=1&invhtot>0,max(Invh-Fh,0),0)"
Invexl,"ifelse(t<=(n+entry)&t>(n+1),max(Invl-Fl,0),0)+ifelse(t>(n+entry),max(Invl-Fl-Ml_1,0),0)+ifelse(t==(n+1),Invl,0)"
Invexc,"max(Invc-Fc,0)"
Psih,"ifelse(exith_1!=1&invhtot>0,1/(1+exp(psih*(rhT-cgh_1-intrh))),0)"
Psil,0+(t>(n+entry))*(1/(1+exp(psil*(rlT-cgl_1-intrl))))
Psic,1/(1+exp(psic*(rcT-cgc_1-intrc)))
esc,"ifelse(TRUE,0,0)"
esh,"ifelse(exith_1!=1&invhtot>0,0,0)"
esl,"ifelse(t>(n+entry),0,ifelse(t==(n+entry),100,0))"
ec,ec_1+esc
eh,eh_1+esh
el,"ifelse(t<=(n+entry)&t>(n+1),el_1+esl,0)+ifelse(t>(n+entry),el_1+esl,0)"
REh,"ifelse(exith_1!=1&invhtot>0,ifelse(Mhleft>0,REhT,ifelse(REhT<0,REhT,REhT*Mhtot/(FDhT+REhT))),0)"
REl,"ifelse(t>(n+1),ifelse(Mlleft>0,RElT,ifelse(RElT<0,RElT,RElT*Mltot/(FDlT+RElT))),0)"
REc,"ifelse(Mcleft>0,REcT,ifelse(REcT<0,REcT,REcT*Mctot/(FDcT+REcT)))"
khc,khc_1+invch-depkhc
khl,"ifelse(firstPeriodLowcarb,invlh,khl_1-depkhl)"
khh,"ifelse(exith_1==0,khh_1+invhh-depkhh,0)"
klc,klc_1+invcl-depklc
kll,"ifelse(firstPeriodLowcarb,0,kll_1-depkll+invll)"
depkhh,invhh_1*(-5.602796e-09+1.522998e-08)+invhh_2*(-1.522998e-08+4.139938e-08)+invhh_3*(-4.139938e-08+1.125352e-07)+invhh_4*(-1.125352e-07+3.059023e-07)+invhh_5*(-3.059023e-07+8.315287e-07)+invhh_6*(-8.315287e-07+2.260329e-06)+invhh_7*(-2.260329e-06+6.144212e-06)+invhh_8*(-6.144212e-06+1.67017e-05)+invhh_9*(-1.67017e-05+4.539993e-05)+invhh_10*(-4.539993e-05+0.0001234098)+invhh_11*(-0.0001234098+0.0003354626)+invhh_12*(-0.0003354626+0.000911882)+invhh_13*(-0.000911882+0.002478752)+invhh_14*(-0.002478752+0.006737947)+invhh_15*(-0.006737947+0.01831564)+invhh_16*(-0.01831564+0.04978707)+invhh_17*(-0.04978707+0.1353353)+invhh_18*(-0.1353353+0.3678794)+invhh_19*(1-0.3678794)+invhh_1*5.602796e-09
depkhl,invlh_1*(-5.602796e-09+1.522998e-08)+invlh_2*(-1.522998e-08+4.139938e-08)+invlh_3*(-4.139938e-08+1.125352e-07)+invlh_4*(-1.125352e-07+3.059023e-07)+invlh_5*(-3.059023e-07+8.315287e-07)+invlh_6*(-8.315287e-07+2.260329e-06)+invlh_7*(-2.260329e-06+6.144212e-06)+invlh_8*(-6.144212e-06+1.67017e-05)+invlh_9*(-1.67017e-05+4.539993e-05)+invlh_10*(-4.539993e-05+0.0001234098)+invlh_11*(-0.0001234098+0.0003354626)+invlh_12*(-0.0003354626+0.000911882)+invlh_13*(-0.000911882+0.002478752)+invlh_14*(-0.002478752+0.006737947)+invlh_15*(-0.006737947+0.01831564)+invlh_16*(-0.01831564+0.04978707)+invlh_17*(-0.04978707+0.1353353)+invlh_18*(-0.1353353+0.3678794)+invlh_19*(1-0.3678794)+invlh_1*5.602796e-09
depkll,invll_1*(-5.602796e-09+1.522998e-08)+invll_2*(-1.522998e-08+4.139938e-08)+invll_3*(-4.139938e-08+1.125352e-07)+invll_4*(-1.125352e-07+3.059023e-07)+invll_5*(-3.059023e-07+8.315287e-07)+invll_6*(-8.315287e-07+2.260329e-06)+invll_7*(-2.260329e-06+6.144212e-06)+invll_8*(-6.144212e-06+1.67017e-05)+invll_9*(-1.67017e-05+4.539993e-05)+invll_10*(-4.539993e-05+0.0001234098)+invll_11*(-0.0001234098+0.0003354626)+invll_12*(-0.0003354626+0.000911882)+invll_13*(-0.000911882+0.002478752)+invll_14*(-0.002478752+0.006737947)+invll_15*(-0.006737947+0.01831564)+invll_16*(-0.01831564+0.04978707)+invll_17*(-0.04978707+0.1353353)+invll_18*(-0.1353353+0.3678794)+invll_19*(1-0.3678794)+invll_1*5.602796e-09
depkhcT,invch_1*(-5.602796e-09+1.522998e-08)+invch_2*(-1.522998e-08+4.139938e-08)+invch_3*(-4.139938e-08+1.125352e-07)+invch_4*(-1.125352e-07+3.059023e-07)+invch_5*(-3.059023e-07+8.315287e-07)+invch_6*(-8.315287e-07+2.260329e-06)+invch_7*(-2.260329e-06+6.144212e-06)+invch_8*(-6.144212e-06+1.67017e-05)+invch_9*(-1.67017e-05+4.539993e-05)+invch_10*(-4.539993e-05+0.0001234098)+invch_11*(-0.0001234098+0.0003354626)+invch_12*(-0.0003354626+0.000911882)+invch_13*(-0.000911882+0.002478752)+invch_14*(-0.002478752+0.006737947)+invch_15*(-0.006737947+0.01831564)+invch_16*(-0.01831564+0.04978707)+invch_17*(-0.04978707+0.1353353)+invch_18*(-0.1353353+0.3678794)+invch_19*(1-0.3678794)+invch_1*5.602796e-09
depkhc,"ifelse(depkhcT==0&khc_1>0,depkhc_1,depkhcT)"
depklc,invcl_1*(-5.602796e-09+1.522998e-08)+invcl_2*(-1.522998e-08+4.139938e-08)+invcl_3*(-4.139938e-08+1.125352e-07)+invcl_4*(-1.125352e-07+3.059023e-07)+invcl_5*(-3.059023e-07+8.315287e-07)+invcl_6*(-8.315287e-07+2.260329e-06)+invcl_7*(-2.260329e-06+6.144212e-06)+invcl_8*(-6.144212e-06+1.67017e-05)+invcl_9*(-1.67017e-05+4.539993e-05)+invcl_10*(-4.539993e-05+0.0001234098)+invcl_11*(-0.0001234098+0.0003354626)+invcl_12*(-0.0003354626+0.000911882)+invcl_13*(-0.000911882+0.002478752)+invcl_14*(-0.002478752+0.006737947)+invcl_15*(-0.006737947+0.01831564)+invcl_16*(-0.01831564+0.04978707)+invcl_17*(-0.04978707+0.1353353)+invcl_18*(-0.1353353+0.3678794)+invcl_19*(1-0.3678794)+invcl_1*5.602796e-09
gkh,"min(0.3,ifelse(exith_1==0,eta0h+eta1*uhe-eta2*rintrh*lambdahprev+eta3*qhprev,0))"
gkl,"min(0.3,ifelse(t>n+1,ifelse(t<=(n+entry),tau,eta0h+eta1*ule-eta2*rintrl*lambdalprev+eta3*qlprev),0))"
gc,"min(0.3,eta0c+eta1*uce-eta2*rintrc*lambdacprev+eta3*qcprev)"
lambdacprev,(lambdac_4+lambdac_3+lambdac_2+lambdac_1)/4
lambdalprev,(lambdal_4+lambdal_3+lambdal_2+lambdal_1)/4
lambdahprev,(lambdah_4+lambdah_3+lambdah_2+lambdah_1)/4
invyc,"max(gc*yc_1+depkhc*prkh+depklc*prkl,0)"
invcl,"min(klsold,incld+z12*(inchd-khsold)*prkh/prkl)"
invch,"min(khsold,inchd+z11*(incld-klsold)*prkl/prkh)"
z11,"ifelse(incld>klsold,1,0)"
z12,"ifelse(inchd>khsold,1,0)"
costkh,pkh/prkh
costkl,pkl/prkl
gkhh,"ifelse(exith_1==0,gkh/prkh,0)"
invhh,"ifelse(exith_1==0,min(khh_1*prkh,max(0,gkhh*khh_1+depkhh)),0)"
khsold,"ifelse(exith_1==0,khh_1*prkh-invhh,0)"
invhtot,invhh+invch+invlh
invll,"ifelse(firstPeriodLowcarb,0,min(kll_1*prkl+khl_1*prkh,max(((gkl*yl_1+depkll*prkl+depkhl*prkh)/prkl),0)))"
invlh,"ifelse(firstPeriodLowcarb,rho*Yh_1*prkl/((1-rho)*pkl*prkh*(prkl-exp(1-n)-tau)),0)"
klsold,"ifelse(firstPeriodLowcarb,0,kll_1*prkl+khl_1*prkh-invll)"
yc,cf+cw
yl,"ifelse(firstPeriodLowcarb,invlh*prkh,ifelse(t<=(n+entry)&t>(n+1),invll+invcl,0)+ifelse(t>(n+entry),invll+invcl,0))"
yh,"ifelse(exith_1!=1&invhtot>0,invhtot,0)"
Yc,yc*pc
Yl,"ifelse(t<=(n+entry)&t>(n+1),yl*pkl,0)+ifelse(t>(n+entry),yl*pkl,0)"
Yh,"ifelse(exith_1!=1&invhtot>0,yh*pkh,0)"
yce,yc_1+epsilon*(yce_1-yc_1)
yle,"ifelse(!firstPeriodLowcarb,yl_1+epsilon*(yle_1-yl_1),0)"
yhe,"ifelse(exith_1==0,yh_1+epsilon*(yhe_1-yh_1),0)"
uc,yc/(khc_1*prkh+klc_1*prkl)
ul,"ifelse(t<=(n+entry)&t>(n+1),yl/(khl_1*prkh+kll_1*prkl),0)+ifelse(t>(n+entry),yl/(khl_1*prkh+kll_1*prkl),0)"
uh,"ifelse(exith_1!=1&invhtot>0,yh/(khh_1*prkh),0)"
uce,yce/(khc_1*prkh+klc_1*prkl)
ule,"ifelse(!firstPeriodLowcarb,ifelse(kll_1==0,0,(yle/(kll_1*prkl+khl_1*prkh))),0)"
uhe,"ifelse(exith_1==0,yhe/(khh_1*prkh),0)"
ulc1,"ifelse(klc_1==0,1,0)+ifelse(klc_1>0,max(0,min(yc/(prkl*klc_1),1)),0)"
ulc,ulc1
ull1,"ifelse(t<=(n+entry)&t>(n+1),ifelse(kll_1!=0,max(0,min(1,yl/(prkl*kll_1))),1),ifelse(t>(n+entry),max(0,min(1,yl/(prkl*kll_1))),0))"
ull,"ifelse(t<=(n+entry)&t>(n+1),ifelse((invll+invcl)!=0,ifelse(kll_1==0,1,ull1),0),0)+ifelse(t>(n+entry),ifelse((invll+invcl)!=0,ull1,0),0)"
ulce,"min(yce/(prkl*klc_1),1)"
ulle,"ifelse(!firstPeriodLowcarb,ifelse(kll_1==0,1,min(yle/(prkl*kll_1),1)),0)"
uhc,"ifelse(khc_1==0,1,0)+ifelse(khc_1>0,max(0,(yc-ulc*prkl*klc_1)/(prkh*khc_1)),0)"
uhl,"ifelse(t>(n+1),ifelse((invll+invcl)==0,0,ifelse(khl_1==0,0,max(0,(yl-ull*prkl*kll_1)/(prkh*khl_1)))),0)"
uhh,"ifelse(exith_1!=1&invhtot>0,yh/(prkh*khh_1),0)"
uhce,"min((yce-ulce*prkl*klc_1)/(prkh*khc_1),1)"
uhle,"ifelse(!firstPeriodLowcarb,ifelse(khl_1==0,0,min((yle-ulle*prkl*kll_1)/(prkh*khl_1),1)),0)"
uhhe,"ifelse(exith_1==0,yhe/(prkh*khh_1),0)"
pc,pc_1+zeta*((1+phic)*NUCc-pc_1)
pkl,"ifelse(firstPeriodLowcarb,(1+phil)*NUCl,pkl_1+zeta*((1+phil)*NUCl-pkl_1))"
pkh,"ifelse(exith_1==0,pkh_1+zeta*((1+phih)*NUCh-pkh_1),pkh_1)"
UCc,Wc*(ulc*klc_1*caplabratiohc+uhc*khc_1*caplabratiolc)/((uhc*prkh*khc_1+ulc*prkl*klc_1)*caplabratiolc*caplabratiohc)
UCl,"ifelse(t<=(n+entry)&t>(n+1),ifelse((invll+invcl)!=0,Wl*(ull*kll_1*caplabratiohl+uhl*khl_1*caplabratioll)/((uhl*prkh*khl_1+ull*prkl*kll_1)*caplabratioll*caplabratiohl),0),0)+ifelse(t>(n+entry),ifelse((invll+invcl)!=0,Wl*(ull*kll_1*caplabratiohl+uhl*khl_1*caplabratioll)/((uhl*prkh*khl_1+ull*prkl*kll_1)*caplabratioll*caplabratiohl),0),0)"
UCh,"ifelse(exith_1!=1&invhtot>0,Wh/(prkh*caplabratiohh),0)"
UChe,"ifelse(exith_1==0,Wh_1/(prkh*caplabratiohh),0)"
UCle,"ifelse(firstPeriodLowcarb,Wl/(prkh*caplabratiohl),ifelse(khl_1==0&kll_1==0,0,Wl_1*(ulle*kll_1*caplabratiohl+uhle*khl_1*caplabratioll)/((uhle*prkh*khl_1+ulle*prkl*kll_1)*caplabratioll*caplabratiohl)))"
UCce,Wc_1*(ulce*klc_1*caplabratiohc+uhce*khc_1*caplabratiolc)/((uhce*prkh*khc_1+ulce*prkl*klc_1)*caplabratiolc*caplabratiohc)
NUCh,"ifelse(exith_1==0,NUCh_1+zeta*(UChe-NUCh_1),0)"
NUCl,"ifelse(firstPeriodLowcarb,UCle,NUCl_1+zeta*(UCle-NUCl_1))"
NUCc,NUCc_1+zeta*(UCce-NUCc_1)
phil,"ifelse(firstPeriodLowcarb,rlT*pkh/(NUCl*prkh),ifelse(NUCl==0|yle==0,0,rlT*(pkh_1*khl_1+pkl_1*kll_1)/(NUCl*yle)))"
phic,rcT*(pkh_1*khc_1+pkl_1*klc_1)/(NUCc*yce)
phih,"ifelse(exith_1==0,rhT*(pkh_1*khh_1)/(UChe*yhe),0)"
pic,(pc-pc_1)/pc_1
pikl,"ifelse(pkl_1==0,0,(pkl-pkl_1)/pkl_1)"
pikh,"ifelse(exith_1==0,(pkh-pkh_1)/pkh_1,0)"
pickhl,(khc_1*pikh+klc_1*pikl)/(khc_1+klc_1)
pce,"ifelse(exith_1==1,lambda20*Vffe/ec+(lambda21*RRm+lambda22*RRc+lambda23*RRl)*Vffe/ec,ifelse(el==0,lambda20*Vffe/ec+(lambda21*RRm+lambda22*RRc+lambda23*RRh)*Vffe/ec,lambda20a*Vffe/ec+(lambda21a*RRm+lambda22a*RRc+lambda23a*RRh+lambda24a*RRl)*Vffe/ec))"
ple,"ifelse(exith_1==1,lambda30*Vffe/el+(lambda31*RRm+lambda32*RRc+lambda33*RRl)*Vffe/el,ifelse(el>0,lambda40a*Vffe/el+(lambda41a*RRm+lambda42a*RRc+lambda43a*RRh+lambda44a*RRl)*Vffe/el,0))"
phe,"max(0,ifelse(exith_1==1,0,ifelse(el==0,lambda30*Vffe/eh+(lambda31*RRm+lambda32*RRc+lambda33*RRh)*Vffe/eh,lambda30a*Vffe/eh+(lambda31a*RRm+lambda32a*RRc+lambda33a*RRh+lambda34a*RRl)*Vffe/eh)))"
MfDf,"ifelse(exith_1==1,lambda10*Vffe+(lambda11*RRm+lambda12*RRc+lambda13*RRl)*Vffe,ifelse(el==0,lambda10*Vffe+(lambda11*RRm+lambda12*RRc+lambda13*RRh)*Vffe,lambda10a*Vffe+(lambda11a*RRm+lambda12a*RRc+lambda13a*RRh+lambda14a*RRl)*Vffe))"
lambda20,"ifelse(yh==0|Fh<0,ypotce/(ypotce+ypotle),ifelse(el==0,ypotce/(ypotce+ypothe),0))*(1-lambda10)"
lambda30,1-lambda20-lambda10
lambda20a,"ifelse(exith_1==0,ifelse(el==0,0,ypotce*(1-lambda10a-initlambda)/(ypotce+ypothe+ypotle)),0)"
lambda30a,"ifelse(exith_1==0,ifelse(el==0,0,ypothe*(1-lambda10a-initlambda)/(ypotce+ypothe+ypotle)),0)"
lambda40a,1-(lambda20a+lambda30a+lambda10a)
qc,(ec*pce)/(pkh*khc+pkl*klc-Loansc)
qh,"ifelse(yh!=0&Fh>=0,(eh*phe)/(pkh*khh-Loansh),0)"
ql,"ifelse((khl==0&kll==0)|el==0,1,(el*ple)/(pkh*khl+pkl*kll-Loansl))"
qcprev,(qc_4+qc_3+qc_2+qc_1)/4
qhprev,(qh_4+qh_3+qh_2+qh_1)/4
qlprev,(ql_4+ql_3+ql_2+ql_1)/4
profratec,Fc/(khc_1*pkh_1+klc_1*pkl_1)
profratel,"ifelse(t<=(n+entry)&t>(n+1),Fl/(khl_1*pkh_1+kll_1*pkl_1),0)+ifelse(t>(n+entry),Fl/(khl_1*pkh_1+kll_1*pkl_1),0)"
profrateh,"ifelse(exith_1!=1&invhtot>0,Fh/(khh_1*pkh_1),0)"
intrhistc,"ifelse(sumkc>0,(Fc_5+Fc_4+Fc_3+Fc_2+Fc_1)/sumkc,0)"
sumkc,pkh_5*khc_5+pkl_5*klc_5+pkh_4*khc_4+pkl_4*klc_4+pkh_3*khc_3+pkl_3*klc_3+pkh_2*khc_2+pkl_2*klc_2+pkh_1*khc_1+pkl_1*klc_1
intrhistl,"ifelse(sumkl>0,(Fl_5+Fl_4+Fl_3+Fl_2+Fl_1)/sumkl,0)"
sumkl,pkh_5*khl_5+pkl_5*kll_5+pkh_4*khl_4+pkl_4*kll_4+pkh_3*khl_3+pkl_3*kll_3+pkh_2*khl_2+pkl_2*kll_2+pkh_1*khl_1+pkl_1*kll_1
intrhisth,"ifelse(sumkh>0,(Fh_5+Fh_4+Fh_3+Fh_2+Fh_1)/sumkh,0)"
sumkh,pkh_5*khh_5+pkh_4*khh_4+pkh_3*khh_3+pkh_2*khh_2+pkh_1*khh_1
expprofratec,Fce/(ec_1*pce_1)
expprofratel,"ifelse(t>=(n+entry),ifelse(ple_1==0,Fle/(khl_1*pkh_1+kll_1*pkl_1),Fle/(el_1*ple_1)),0)"
expprofrateh,"ifelse(exith_1!=1,Fhe/(eh_1*phe_1),0)"
expdivratec,FDce/(ec_1*pce_1)
expdivrateh,"ifelse(exith_1!=1,FDhe/(eh_1*phe_1),0)"
expdivratel,"ifelse(t>=(n+entry),ifelse(ple_1==0,FDle/(khl_1*pkh_1+kll_1*pkl_1),FDle/(el_1*ple_1)),0)"
RRm,#NAME?
RRc,"ifelse(round(cgce,digit=6)==0,chi1a*((expdivratec+1)/(1+pic)-1)+chi1a*((1+expprofratec)/(1+pic)-1),(chi1b*((1+cgce)/(1+pic)-1)+chi1*((1+expdivratec)/(1+pic)-1)+chi1*((1+expprofratec)/(1+pic)-1)))"
RRh,"ifelse(yh!=0&Fh>=0,ifelse(round(cghe,digit=6)==0,chi1a*((expdivrateh+1)/(1+pic)-1)+chi1a*((1+expprofrateh)/(1+pic)-1),(chi1b*((1+cghe)/(1+pic)-1)+chi1*((1+expdivrateh)/(1+pic)-1)+chi1*((1+expprofrateh)/(1+pic)-1))),0)"
RRl,"ifelse(el>0,ifelse(round(cgle,digit=6)==0,chi1a*((expdivratel+1)/(1+pic)-1)+chi1a*((1+expprofratel)/(1+pic)-1),(chi1b*((1+cgle)/(1+pic)-1)+chi1*((1+expdivratel)/(1+pic)-1)+chi1*((1+expprofratel)/(1+pic)-1))),0)"
tucic,Wc/(prkl*caplabratiolc)+pkl/(deltal*prkl)
tuchc,Wc/(prkh*caplabratiohc)+pkh/(deltah*prkh)
beta_inv,"ifelse(khsold>0,ifelse(klsold>0,1/(beta0+exp(beta1*(tucic-tuchc)/tuchc)),0),1)"
incld,beta_inv*invyc/prkl
inchd,(1-beta_inv)*invyc/prkh
Ncmax,klc_1/caplabratiolc+khc_1/caplabratiohc
FDhT,"max(0,ifelse(exith_1!=1&invhtot>0,RRhT*eh*phe_1-1.0*CGhe,0))"
REhT,"ifelse(exith_1!=1&invhtot>0,Loansh_1+Invh-esh*phe_1-lambdahT*(khh_1-depkhh+invhh)*pkh,0)"
Mhin,esh*phe+Fh
Mhleft,"ifelse(exith_1!=1&invhtot>0,max(Mh_1+Mhin-REhT-FDhT,0),0)"
Mhtot,Mh_1+Mhin
FDlT,"max(0,ifelse(t>(n+entry),RRlT*el*ple_1-1.0*CGle,0))"
RElT,"ifelse(t>(n+1),Loansl_1+Invl-esl*ple_1-lambdalT*((khl_1-depkhl)*pkh+(kll_1-depkll+invll)*pkl),0)"
Mlin,esl*ple+Fl
Mltot,Ml_1+Mlin
FDcT,"max(0,RRcT*ec*pce_1-1.0*CGce)"
REcT,Loansc_1+Invc-esc*pce_1-lambdacT*((khc_1-depkhc+invch)*pkh+(klc_1-depklc+invcl)*pkl)
Mcin,esc*pce+Fc
Mcleft,"max(Mcon_1+Mcin-REcT-FDcT,0)"
Mctot,Mcon_1+Mcin
khcgr,"ifelse(khc_1==0,0,(khc-khc_1)/khc_1)"
khhgr,"ifelse(khh_1==0,0,(khh-khh_1)/khh_1)"
khlgr,"ifelse(khl_1==0,0,(khl-khl_1)/khl_1)"
klcgr,"ifelse(klc_1==0,0,(klc-klc_1)/klc_1)"
kllgr,"ifelse(kll_1==0,0,(kll-kll_1)/kll_1)"
totkcgr,"ifelse(khc_1+klc_1==0,0,(khc+klc-khc_1-klc_1)/(khc_1+klc_1))"
totkhgr,khhgr
totklgr,"ifelse(khl_1+kll_1==0,0,(khl+kll-khl_1-kll_1)/(khl_1+kll_1))"
totkgr,"ifelse(khh_1+khl_1+kll_1==0,0,(khh+khl+kll-khh_1-khl_1-kll_1)/(khh_1+khl_1+kll_1))"
sharekh,"round(khh_1/(khh_1+khl_1+kll_1),digit=10)"
sharekl,"round(khl_1/(khh_1+khl_1+kll_1),digit=10)"
kllgre,"ifelse(sharekh==1,0,ifelse(kll_1==0,0,(1-thetashock)*(totkgr-sharekh*khhgr-sharekl*khlgr)/(1-sharekh-sharekl)))"
khhgre,"ifelse(sharekh==0,0,(totkgr-(1-sharekh-sharekl)*kllgre-sharekl*khlgr)/sharekh)"
khlgre,"ifelse(sharekl==0,0,ifelse(sharekh==1,0,(totkgr-(1-sharekh-sharekl)*kllgre-sharekh*khhgr)/sharekl))"
khcgrmeanbau,"mean(c(khcgr_4,khcgr_3,khcgr_2,khcgr_1))"
khhgrmeanbau,"mean(c(khhgr_4,khhgr_3,khhgr_2,khhgr_1))"
khlgrmeanbau,"mean(c(khlgr_4,khlgr_3,khlgr_2,khlgr_1))"
klcgrmeanbau,"mean(c(klcgr_4,klcgr_3,klcgr_2,klcgr_1))"
kllgrmeanbau,"mean(c(kllgr_4,kllgr_3,kllgr_2,kllgr_1))"
totkgrmeanbau,"mean(c(totkgr_4,totkgr_3,totkgr_2,totkgr_1))"
khhgrmeane,"mean(c(khhgre_4,khhgre_3,khhgre_2,khhgre_1))"
khlgrmeane,"mean(c(khlgre_4,khlgre_3,khlgre_2,khlgre_1))"
kllgrmeane,"mean(c(kllgre_4,kllgre_3,kllgre_2,kllgre_1))"
khcgrmeane,"mean(c(khcgr_4,khcgr_3,khcgr_2,khcgr_1))"
klcgrmeane,"mean(c(klcgr_4,klcgr_3,klcgr_2,klcgr_1))"
khcperc,khc
klcperc,klc
khlperc,"ifelse(khl==0,0,(1-phi)*khl+phi*khl_1*(1+khlgrmeane))"
kllperc,"ifelse(kll==0,0,(1-phi)*kll+phi*kll_1*(1+kllgrmeane))"
khhperc,"ifelse(khh==0,0,(1-phi)*khh+phi*khh_1*(1+khhgrmeane))"
xkhc,(1+khcgrmeane)/(1+intrbase)
xklc,(1+klcgrmeane)/(1+intrbase)
xkhh,(1+khhgrmeane)/(1+intrbase)
xkhl,(1+khlgrmeane)/(1+intrbase)
xkll,(1+kllgrmeane)/(1+intrbase)
PVyc,"ifelse(khcperc>0,khcperc*(1-xkhc^deltah)/(1-xkhc)+klcperc*(1-xklc^deltah)/(1-xklc),klcperc*(1-xklc^deltah)/(1-xklc))"
PVyh,khhperc*(1-xkhh^deltah)/(1-xkhh)
PVyl,"ifelse(khlperc>0,khlperc*(1-xkhl^deltah)/(1-xkhl)+kllperc*(1-xkll^deltah)/(1-xkll),kllperc*(1-xkll^deltah)/(1-xkll))"
ypotce,PVyc*(1-lambdacT)
ypothe,PVyh*(1-lambdahT)
ypotle,PVyl*(1-lambdalT)
cg,CG/pc
FDbraw,"intrc*Loansc_1+ifelse(yh!=0&Fh>=0&phe>0,intrh*Loansh_1,-(Loansh_1-Mh_1))+intrl*Loansl_1"
bailout,FDb-FDbraw
Mcon,"ifelse(Mcleft>0,Mcleft*(1-1/nLoans),0)"
Mh,"ifelse(Mhleft>0,Mhleft*(1-1/nLoans),0)"
mktshareh,yl/(yl+yh)
